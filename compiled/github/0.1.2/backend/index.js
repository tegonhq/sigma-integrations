"use strict";var t=require("axios"),e=function(){return e=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.apply(this,arguments)};function r(t,e,r,a){return new(r||(r=Promise))((function(n,o){function i(t){try{c(a.next(t))}catch(t){o(t)}}function s(t){try{c(a.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,s)}c((a=a.apply(t,e||[])).next())}))}function a(t,e){var r,a,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(r=1,a&&(n=2&s[0]?a.return:s[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,s[1])).done)return n;switch(a=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],a=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}"function"==typeof SuppressedError&&SuppressedError;var n=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=(t,e)=>o(t,"name",{value:e,configurable:!0}),p=(t,e)=>function(){return e||(0,t[s(t)[0]])((e={exports:{}}).exports,e),e.exports},f=p({"../../node_modules/.pnpm/validator@13.12.0/node_modules/validator/lib/util/assertString.js"(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){if(!("string"==typeof t||t instanceof String)){var e=r(t);throw null===t?e="null":"object"===e&&(e=t.constructor.name),new TypeError("Expected a string but received a ".concat(e))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,u(r,"_typeof"),u(a,"assertString"),e.exports=t.default,e.exports.default=t.default}}),l=p({"../../node_modules/.pnpm/validator@13.12.0/node_modules/validator/lib/isISO8601.js"(t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(f());function a(t){return t&&t.__esModule?t:{default:t}}u(a,"_interopRequireDefault");var n=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,i=u((function(t){var e=t.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(e){var r=Number(e[1]),a=Number(e[2]);return r%4==0&&r%100!=0||r%400==0?a<=366:a<=365}var n=t.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=n[1],i=n[2],s=n[3],c=i?"0".concat(i).slice(-2):i,d=s?"0".concat(s).slice(-2):s,u=new Date("".concat(o,"-").concat(c||"01","-").concat(d||"01"));return!i||!s||u.getUTCFullYear()===o&&u.getUTCMonth()+1===i&&u.getUTCDate()===s}),"isValidDate");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(t);var a=e.strictSeparator?o.test(t):n.test(t);return a&&e.strict?i(t):a}u(s,"isISO8601"),e.exports=t.default,e.exports.default=t.default}}),y=Object.defineProperty,g=u(((t,e)=>y(t,"name",{value:e,configurable:!0})),"__name");async function h(e){return(await t.post("/api/v1/conversations",e)).data}async function v(e){return(await t.post("/api/v1/conversation_history",e)).data}async function m({integrationAccountId:e}){return(await t.get(`/api/v1/integration_account/${e}/token`)).data}async function _({integrationAccountId:e},r){return(await t.post(`/api/v1/integration_account/${e}`,r)).data}async function O(e){return(await t.post("/api/v1/integration_account",e)).data}async function b(e){return(await t.post("/api/v1/integration_account/create/apikey",e)).data}async function I(){return(await t.get("/api/v1/integration_definition")).data}async function w({integrationDefinitionId:e}){return(await t.get(`/api/v1/integration_definition/${e}`)).data}async function T(e){return await t.delete(`/api/v1/integration_account/${e.integrationAccountId}`)}async function k(e){return(await t.post("/api/v1/oauth",e)).data}async function R(e){return(await t.post("/api/v1/pages",e)).data}async function S({pageId:e,...r}){return(await t.post(`/api/v1/pages/${e}`,r)).data}async function P(e){return(await t.get(`/api/v1/task-occurrence/${e.taskOccurrenceId}`)).data}async function D(e){return(await t.get("/api/v1/task-occurrence/filter",{params:e})).data}async function j({taskOccurrenceId:e}){return(await t.delete(`/api/v1/task-occurrence?taskOccurrenceIds=${e}`)).data}async function A({taskId:e}){return(await t.delete(`/api/v1/task-occurrence/task/${e}`)).data}async function M(e){return(await t.put("/api/v1/task-occurrence",e)).data}async function C(e){return(await t.post("/api/v1/task-occurrence",e)).data}async function E({taskOccurrenceId:e,...r}){return(await t.post(`/api/v1/task-occurrence/${e}`,r)).data}async function x(e){return(await t.post("/api/v1/tasks",e)).data}async function U(e){return(await t.post("/api/v1/tasks/source",e)).data}async function N(e){return(await t.post("/api/v1/tasks/bulk",e)).data}async function L({taskId:e,...r}){return(await t.post(`/api/v1/tasks/${e}`,r)).data}async function G(e){return(await t.get(`/api/v1/tasks/${e.taskId}`)).data}async function B(e){return(await t.get(`/api/v1/tasks/source/${e.sourceId}`)).data}async function V({taskId:e}){return(await t.delete(`/api/v1/tasks/${e}`)).data}async function K({sourceId:e}){return(await t.delete(`/api/v1/tasks/source/${e}`)).data}async function H(e){return(await t.post("/api/v1/tasks/ai/recurrence",e)).data}async function $(){return(await t.get("/api/v1/users")).data}async function W(e){return(await t.post("/api/v1/users",e)).data}async function F(e){return(await t.post("/api/v1/users/pat",e)).data}async function z(){return(await t.get("/api/v1/users/pats")).data}async function q(e){return(await t.delete(`/api/v1/users/pats/${e.patId}`)).data}async function J(e){return(await t.post("/api/v1/users/authorization",e)).data}async function Y(){return{code:(await t.get("/api/v1/users/authorization")).data.code}}async function Z(){return(await t.post("/api/v1/lists")).data}async function X({listId:e,...r}){return(await t.post(`/api/v1/lists/${e}`,r)).data}async function Q({listId:e}){return(await t.delete(`/api/v1/lists/${e}`)).data}u(h,"createConversation"),g(h,"createConversation"),u(v,"createConversationHistory"),g(v,"createConversationHistory"),u(m,"getIntegrationAccountWithToken"),g(m,"getIntegrationAccountWithToken"),u(_,"updateIntegrationAccount"),g(_,"updateIntegrationAccount"),u(O,"createIntegrationAccount"),g(O,"createIntegrationAccount"),u(b,"createIntegrationAccountWithoutOAuth"),g(b,"createIntegrationAccountWithoutOAuth"),u(I,"getIntegrationDefinitions"),g(I,"getIntegrationDefinitions"),u(w,"getIntegrationDefinition"),g(w,"getIntegrationDefinition"),u(T,"deleteIntegrationAccount"),g(T,"deleteIntegrationAccount"),u(k,"createRedirectURL"),g(k,"createRedirectURL"),u(R,"createPage"),g(R,"createPage"),u(S,"updatePage"),g(S,"updatePage"),u(P,"getTaskOccurenceById"),g(P,"getTaskOccurenceById"),u(D,"getTaskOccurences"),g(D,"getTaskOccurences"),u(j,"deleteTaskOccurrence"),g(j,"deleteTaskOccurrence"),u(A,"deleteAllTaskOccurrences"),g(A,"deleteAllTaskOccurrences"),u(M,"updateTaskOccurrence"),g(M,"updateTaskOccurrence"),u(C,"createTaskOccurrence"),g(C,"createTaskOccurrence"),u(E,"updateSingleTaskOccurrence"),g(E,"updateSingleTaskOccurrence"),u(x,"createTask"),g(x,"createTask"),u(U,"upsertTaskBySource"),g(U,"upsertTaskBySource"),u(N,"createBulkTasks"),g(N,"createBulkTasks"),u(L,"updateTask"),g(L,"updateTask"),u(G,"getTaskById"),g(G,"getTaskById"),u(B,"getTaskBySourceId"),g(B,"getTaskBySourceId"),u(V,"deleteTask"),g(V,"deleteTask"),u(K,"deleteTaskBySourceId"),g(K,"deleteTaskBySourceId"),u(H,"getTaskSchedule"),g(H,"getTaskSchedule"),u($,"getUser"),g($,"getUser"),u(W,"getUsers"),g(W,"getUsers"),u(F,"createPat"),g(F,"createPat"),u(z,"getPats"),g(z,"getPats"),u(q,"deletePat"),g(q,"deletePat"),u(J,"authorizeCode"),g(J,"authorizeCode"),u(Y,"createAuthCode"),g(Y,"createAuthCode"),u(Z,"createList"),g(Z,"createList"),u(X,"updateList"),g(X,"updateList"),u(Q,"deleteList"),g(Q,"deleteList");var tt=function(){function t(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.name=t.name,this.target=t.target,this.propertyName=t.propertyName,this.constraints=null==t?void 0:t.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return u(t,"ValidationMetadata"),t}(),et=function(){function t(){}return u(t,"ValidationSchemaToMetadataTransformer"),t.prototype.transform=function(t){var e=[];return Object.keys(t.properties).forEach((function(r){t.properties[r].forEach((function(a){var n={message:a.message,groups:a.groups,always:a.always,each:a.each},o={type:a.type,name:a.name,target:t.name,propertyName:r,constraints:a.constraints,validationTypeOptions:a.options,validationOptions:n};e.push(new tt(o))}))})),e},t}();function rt(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0}u(rt,"getGlobal");var at=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,n,o=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},nt=function(t,e,r){if(2===arguments.length)for(var a,n=0,o=e.length;n<o;n++)!a&&n in e||(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},ot=function(){function t(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}return u(t,"MetadataStorage"),Object.defineProperty(t.prototype,"hasValidationMetaData",{get:u((function(){return!!this.validationMetadatas.size}),"get"),enumerable:!1,configurable:!0}),t.prototype.addValidationSchema=function(t){var e=this;(new et).transform(t).forEach((function(t){return e.addValidationMetadata(t)}))},t.prototype.addValidationMetadata=function(t){var e=this.validationMetadatas.get(t.target);e?e.push(t):this.validationMetadatas.set(t.target,[t])},t.prototype.addConstraintMetadata=function(t){var e=this.constraintMetadatas.get(t.target);e?e.push(t):this.constraintMetadatas.set(t.target,[t])},t.prototype.groupByPropertyName=function(t){var e={};return t.forEach((function(t){e[t.propertyName]||(e[t.propertyName]=[]),e[t.propertyName].push(t)})),e},t.prototype.getTargetValidationMetadatas=function(t,e,r,a,n){var o,i,s=u((function(t){return void 0!==t.always?t.always:(!t.groups||!t.groups.length)&&r}),"includeMetadataBecauseOfAlwaysOption"),c=u((function(t){return!(!a||n&&n.length||!t.groups||!t.groups.length)}),"excludeMetadataBecauseOfStrictGroupsOption"),d=(this.validationMetadatas.get(t)||[]).filter((function(r){return(r.target===t||r.target===e)&&(!!s(r)||!c(r)&&(!(n&&n.length>0)||r.groups&&!!r.groups.find((function(t){return-1!==n.indexOf(t)}))))})),p=[];try{for(var f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:u((function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}),"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.validationMetadatas.entries()),l=f.next();!l.done;l=f.next()){var y=at(l.value,2),g=y[0],h=y[1];t.prototype instanceof g&&p.push.apply(p,nt([],at(h),!1))}}catch(t){o={error:t}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}var v=p.filter((function(e){return"string"!=typeof e.target&&(e.target!==t&&((!(e.target instanceof Function)||t.prototype instanceof e.target)&&(!!s(e)||!c(e)&&(!(n&&n.length>0)||e.groups&&!!e.groups.find((function(t){return-1!==n.indexOf(t)}))))))})).filter((function(t){return!d.find((function(e){return e.propertyName===t.propertyName&&e.type===t.type}))}));return d.concat(v)},t.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.get(t)||[]},t}();function it(){var t=rt();return t.classValidatorMetadataStorage||(t.classValidatorMetadataStorage=new ot),t.classValidatorMetadataStorage}u(it,"getMetadataStorage");var st=function(){function t(){}return u(t,"ValidationTypes"),t.isValid=function(t){var e=this;return"isValid"!==t&&"getMessage"!==t&&-1!==Object.keys(this).map((function(t){return e[t]})).indexOf(t)},t.CUSTOM_VALIDATION="customValidation",t.NESTED_VALIDATION="nestedValidation",t.PROMISE_VALIDATION="promiseValidation",t.CONDITIONAL_VALIDATION="conditionalValidation",t.WHITELIST="whitelistValidation",t.IS_DEFINED="isDefined",t}(),ct=new(function(){function t(){this.instances=[]}return u(t,"class_1"),t.prototype.get=function(t){var e=this.instances.find((function(e){return e.type===t}));return e||(e={type:t,object:new t},this.instances.push(e)),e.object},t}());function dt(t){return ct.get(t)}u(dt,"getFromContainer");var ut=function(){function t(t,e,r){void 0===r&&(r=!1),this.target=t,this.name=e,this.async=r}return u(t,"ConstraintMetadata"),Object.defineProperty(t.prototype,"instance",{get:u((function(){return dt(this.target)}),"get"),enumerable:!1,configurable:!0}),t}();function pt(t){var e;if(t.validator instanceof Function){if(e=t.validator,dt(ot).getTargetValidatorConstraints(t.validator).length>1)throw"More than one implementation of ValidatorConstraintInterface found for validator on: ".concat(t.target.name,":").concat(t.propertyName)}else{var r=t.validator;e=function(){function t(){}return u(t,"CustomConstraint"),t.prototype.validate=function(t,e){return r.validate(t,e)},t.prototype.defaultMessage=function(t){return r.defaultMessage?r.defaultMessage(t):""},t}(),it().addConstraintMetadata(new ut(e,t.name,t.async))}var a={type:t.name&&st.isValid(t.name)?t.name:st.CUSTOM_VALIDATION,name:t.name,target:t.target,propertyName:t.propertyName,validationOptions:t.options,constraintCls:e,constraints:t.constraints};it().addValidationMetadata(new tt(a))}function ft(t,e){return function(r){var a=e&&e.each?"each value in ":"";return t(a,r)}}function lt(t,e){return function(r,a){pt({name:t.name,target:r.constructor,propertyName:a,options:e,constraints:t.constraints,validator:t.validator})}}function yt(t){return function(e,r){var a={type:st.CONDITIONAL_VALIDATION,target:e.constructor,propertyName:r,constraints:[function(t,e){return null!==t[r]&&void 0!==t[r]}],validationOptions:t};it().addValidationMetadata(new tt(a))}}u(pt,"registerDecorator"),u(ft,"buildMessage"),u(lt,"ValidateBy"),u(yt,"IsOptional");var gt,ht,vt=(gt=l(),ht=null!=gt?n(c(gt)):{},((t,e,r,a)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of s(e))d.call(t,n)||n===r||o(t,n,{get:()=>e[n],enumerable:!(a=i(e,n))||a.enumerable});return t})(gt&&gt.__esModule?ht:o(ht,"default",{value:gt,enumerable:!0}),gt));function mt(t,e){return"string"==typeof t&&(0,vt.default)(t,e)}u(mt,"isISO8601");function _t(t,e){return mt(t,e)}function Ot(t,e){return lt({name:"isDateString",constraints:[t],validator:{validate:u((function(e){return _t(e,t)}),"validate"),defaultMessage:ft((function(t){return t+"$property must be a valid ISO 8601 date string"}),e)}},e)}u(_t,"isDateString"),u(Ot,"IsDateString");var bt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,n,o=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i};function It(t,e){return Object.keys(e).map((function(t){return e[t]})).includes(t)}function wt(t){return Object.entries(t).filter((function(t){var e=bt(t,2),r=e[0];return e[1],isNaN(parseInt(r))})).map((function(t){var e=bt(t,2);return e[0],e[1]}))}function Tt(t,e){return lt({name:"isEnum",constraints:[t,wt(t)],validator:{validate:u((function(t,e){return It(t,null==e?void 0:e.constraints[0])}),"validate"),defaultMessage:ft((function(t){return t+"$property must be one of the following values: $constraint2"}),e)}},e)}u(It,"isEnum"),u(wt,"validEnumValues"),u(Tt,"IsEnum");function kt(t){return t instanceof String||"string"==typeof t}function Rt(t){return lt({name:"isString",validator:{validate:u((function(t,e){return kt(t)}),"validate"),defaultMessage:ft((function(t){return t+"$property must be a string"}),t)}},t)}u(kt,"isString"),u(Rt,"IsString");function St(t){return Array.isArray(t)}function Pt(t){return lt({name:"isArray",validator:{validate:u((function(t,e){return St(t)}),"validate"),defaultMessage:ft((function(t){return t+"$property must be an array"}),t)}},t)}u(St,"isArray"),u(Pt,"IsArray");function Dt(t){return null!=t&&("object"==typeof t||"function"==typeof t)&&!Array.isArray(t)}function jt(t){return lt({name:"isObject",validator:{validate:u((function(t,e){return Dt(t)}),"validate"),defaultMessage:ft((function(t){return t+"$property must be an object"}),t)}},t)}u(Dt,"isObject"),u(jt,"IsObject");var At=Object.create,Mt=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,Et=Object.getOwnPropertyNames,xt=Object.getPrototypeOf,Ut=Object.prototype.hasOwnProperty,Nt=u(((t,e)=>Mt(t,"name",{value:e,configurable:!0})),"__name"),Lt=u(((t,e)=>u((function(){return e||(0,t[Et(t)[0]])((e={exports:{}}).exports,e),e.exports}),"__require")),"__commonJS"),Gt=u(((t,e,r,a)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of Et(e))Ut.call(t,n)||n===r||Mt(t,n,{get:u((()=>e[n]),"get"),enumerable:!(a=Ct(e,n))||a.enumerable});return t}),"__copyProps"),Bt=u(((t,e,r)=>(r=null!=t?At(xt(t)):{},Gt(t&&t.__esModule?r:Mt(r,"default",{value:t,enumerable:!0}),t))),"__toESM"),Vt=Lt({"../../node_modules/.pnpm/reflect-metadata@0.2.2/node_modules/reflect-metadata/Reflect.js"(){var t,e;e=t||(t={}),function(){var t="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:i(),r=a(e);function a(t,e){return function(r,a){Object.defineProperty(t,r,{configurable:!0,writable:!0,value:a}),e&&e(r,a)}}function n(){try{return Function("return this;")()}catch(t){}}function o(){try{return(0,eval)("(function() { return this; })()")}catch(t){}}function i(){return n()||o()}void 0!==t.Reflect&&(r=a(t.Reflect,r)),function(t,e){var r=Object.prototype.hasOwnProperty,a="function"==typeof Symbol,n=a&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=a&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!i&&!s,d={create:i?function(){return ft(Object.create(null))}:s?function(){return ft({__proto__:null})}:function(){return ft({})},has:c?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},p=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:dt(),l="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ut(),y="function"==typeof WeakMap?WeakMap:pt(),g=a?Symbol.for("@reflect-metadata:registry"):void 0,h=ot(),v=it(h);function m(t,e,r,a){if(L(r)){if(!z(t))throw new TypeError;if(!J(e))throw new TypeError;return P(t,e)}if(!z(t))throw new TypeError;if(!V(e))throw new TypeError;if(!V(a)&&!L(a)&&!G(a))throw new TypeError;return G(a)&&(a=void 0),D(t,e,r=F(r),a)}function _(t,e){function r(r,a){if(!V(r))throw new TypeError;if(!L(a)&&!Y(a))throw new TypeError;E(t,e,r,a)}return u(r,"decorator"),Nt(r,"decorator"),r}function O(t,e,r,a){if(!V(r))throw new TypeError;return L(a)||(a=F(a)),E(t,e,r,a)}function b(t,e,r){if(!V(e))throw new TypeError;return L(r)||(r=F(r)),j(t,e,r)}function I(t,e,r){if(!V(e))throw new TypeError;return L(r)||(r=F(r)),A(t,e,r)}function w(t,e,r){if(!V(e))throw new TypeError;return L(r)||(r=F(r)),M(t,e,r)}function T(t,e,r){if(!V(e))throw new TypeError;return L(r)||(r=F(r)),C(t,e,r)}function k(t,e){if(!V(t))throw new TypeError;return L(e)||(e=F(e)),x(t,e)}function R(t,e){if(!V(t))throw new TypeError;return L(e)||(e=F(e)),U(t,e)}function S(t,e,r){if(!V(e))throw new TypeError;if(L(r)||(r=F(r)),!V(e))throw new TypeError;L(r)||(r=F(r));var a=ct(e,r,!1);return!L(a)&&a.OrdinaryDeleteMetadata(t,e,r)}function P(t,e){for(var r=t.length-1;r>=0;--r){var a=(0,t[r])(e);if(!L(a)&&!G(a)){if(!J(a))throw new TypeError;e=a}}return e}function D(t,e,r,a){for(var n=t.length-1;n>=0;--n){var o=(0,t[n])(e,r,a);if(!L(o)&&!G(o)){if(!V(o))throw new TypeError;a=o}}return a}function j(t,e,r){if(A(t,e,r))return!0;var a=at(e);return!G(a)&&j(t,a,r)}function A(t,e,r){var a=ct(e,r,!1);return!L(a)&&$(a.OrdinaryHasOwnMetadata(t,e,r))}function M(t,e,r){if(A(t,e,r))return C(t,e,r);var a=at(e);return G(a)?void 0:M(t,a,r)}function C(t,e,r){var a=ct(e,r,!1);if(!L(a))return a.OrdinaryGetOwnMetadata(t,e,r)}function E(t,e,r,a){ct(r,a,!0).OrdinaryDefineOwnMetadata(t,e,r,a)}function x(t,e){var r=U(t,e),a=at(t);if(null===a)return r;var n=x(a,e);if(n.length<=0)return r;if(r.length<=0)return n;for(var o=new l,i=[],s=0,c=r;s<c.length;s++){var d=c[s];o.has(d)||(o.add(d),i.push(d))}for(var u=0,p=n;u<p.length;u++)d=p[u],o.has(d)||(o.add(d),i.push(d));return i}function U(t,e){var r=ct(t,e,!1);return r?r.OrdinaryOwnMetadataKeys(t,e):[]}function N(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function L(t){return void 0===t}function G(t){return null===t}function B(t){return"symbol"==typeof t}function V(t){return"object"==typeof t?null!==t:"function"==typeof t}function K(t,e){switch(N(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",a=X(t,n);if(void 0!==a){var o=a.call(t,r);if(V(o))throw new TypeError;return o}return H(t,"default"===r?"number":r)}function H(t,e){if("string"===e){var r=t.toString;if(q(r)&&!V(n=r.call(t)))return n;if(q(a=t.valueOf)&&!V(n=a.call(t)))return n}else{var a;if(q(a=t.valueOf)&&!V(n=a.call(t)))return n;var n,o=t.toString;if(q(o)&&!V(n=o.call(t)))return n}throw new TypeError}function $(t){return!!t}function W(t){return""+t}function F(t){var e=K(t,3);return B(e)?e:W(e)}function z(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function q(t){return"function"==typeof t}function J(t){return"function"==typeof t}function Y(t){switch(N(t)){case 3:case 4:return!0;default:return!1}}function Z(t,e){return t===e||t!=t&&e!=e}function X(t,e){var r=t[e];if(null!=r){if(!q(r))throw new TypeError;return r}}function Q(t){var e=X(t,o);if(!q(e))throw new TypeError;var r=e.call(t);if(!V(r))throw new TypeError;return r}function tt(t){return t.value}function et(t){var e=t.next();return!e.done&&e}function rt(t){var e=t.return;e&&e.call(t)}function at(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===p)return e;if(e!==p)return e;var r=t.prototype,a=r&&Object.getPrototypeOf(r);if(null==a||a===Object.prototype)return e;var n=a.constructor;return"function"!=typeof n||n===t?e:n}function nt(){var t,r,a,n;L(g)||void 0===e.Reflect||g in e.Reflect||"function"!=typeof e.Reflect.defineMetadata||(t=st(e.Reflect));var o=new y,i={registerProvider:s,getProvider:d,setProvider:p};return i;function s(e){if(!Object.isExtensible(i))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case t===e:break;case L(r):r=e;break;case r===e:break;case L(a):a=e;break;case a===e:break;default:void 0===n&&(n=new l),n.add(e)}}function c(e,o){if(!L(r)){if(r.isProviderFor(e,o))return r;if(!L(a)){if(a.isProviderFor(e,o))return r;if(!L(n))for(var i=Q(n);;){var s=et(i);if(!s)return;var c=tt(s);if(c.isProviderFor(e,o))return rt(i),c}}}if(!L(t)&&t.isProviderFor(e,o))return t}function d(t,e){var r,a=o.get(t);return L(a)||(r=a.get(e)),L(r)?(L(r=c(t,e))||(L(a)&&(a=new f,o.set(t,a)),a.set(e,r)),r):r}function u(t){if(L(t))throw new TypeError;return r===t||a===t||!L(n)&&n.has(t)}function p(t,e,r){if(!u(r))throw new Error("Metadata provider not registered.");var a=d(t,e);if(a!==r){if(!L(a))return!1;var n=o.get(t);L(n)&&(n=new f,o.set(t,n)),n.set(e,r)}return!0}}function ot(){var t;return!L(g)&&V(e.Reflect)&&Object.isExtensible(e.Reflect)&&(t=e.Reflect[g]),L(t)&&(t=nt()),!L(g)&&V(e.Reflect)&&Object.isExtensible(e.Reflect)&&Object.defineProperty(e.Reflect,g,{enumerable:!1,configurable:!1,writable:!1,value:t}),t}function it(t){var e=new y,r={isProviderFor:Nt((function(t,r){var a=e.get(t);return!L(a)&&a.has(r)}),"isProviderFor"),OrdinaryDefineOwnMetadata:i,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:o,OrdinaryOwnMetadataKeys:s,OrdinaryDeleteMetadata:c};return h.registerProvider(r),r;function a(a,n,o){var i=e.get(a),s=!1;if(L(i)){if(!o)return;i=new f,e.set(a,i),s=!0}var c=i.get(n);if(L(c)){if(!o)return;if(c=new f,i.set(n,c),!t.setProvider(a,n,r))throw i.delete(n),s&&e.delete(a),new Error("Wrong provider for target.")}return c}function n(t,e,r){var n=a(e,r,!1);return!L(n)&&$(n.has(t))}function o(t,e,r){var n=a(e,r,!1);if(!L(n))return n.get(t)}function i(t,e,r,n){a(r,n,!0).set(t,e)}function s(t,e){var r=[],n=a(t,e,!1);if(L(n))return r;for(var o=Q(n.keys()),i=0;;){var s=et(o);if(!s)return r.length=i,r;var c=tt(s);try{r[i]=c}catch(t){try{rt(o)}finally{throw t}}i++}}function c(t,r,n){var o=a(r,n,!1);if(L(o))return!1;if(!o.delete(t))return!1;if(0===o.size){var i=e.get(r);L(i)||(i.delete(n),0===i.size&&e.delete(i))}return!0}}function st(t){var e=t.defineMetadata,r=t.hasOwnMetadata,a=t.getOwnMetadata,n=t.getOwnMetadataKeys,o=t.deleteMetadata,i=new y;return{isProviderFor:Nt((function(t,e){var r=i.get(t);return!(L(r)||!r.has(e))||!!n(t,e).length&&(L(r)&&(r=new l,i.set(t,r)),r.add(e),!0)}),"isProviderFor"),OrdinaryDefineOwnMetadata:e,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:a,OrdinaryOwnMetadataKeys:n,OrdinaryDeleteMetadata:o}}function ct(t,e,r){var a=h.getProvider(t,e);if(!L(a))return a;if(r){if(h.setProvider(t,e,v))return v;throw new Error("Illegal state.")}}function dt(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return u(t,"MapIterator2"),Nt(t,"MapIterator"),t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return u(e,"Map12"),Nt(e,"Map1"),Object.defineProperty(e.prototype,"size",{get:Nt((function(){return this._keys.length}),"get"),enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var a=this._keys.length,n=r+1;n<a;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,Z(e,this._cacheKey)&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,a)},e.prototype.values=function(){return new r(this._keys,this._values,n)},e.prototype.entries=function(){return new r(this._keys,this._values,i)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){if(!Z(this._cacheKey,t)){this._cacheIndex=-1;for(var r=0;r<this._keys.length;r++)if(Z(this._keys[r],t)){this._cacheIndex=r;break}}return this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function a(t,e){return t}function n(t,e){return e}function i(t,e){return[t,e]}}function ut(){return function(){function t(){this._map=new f}return u(t,"Set12"),Nt(t,"Set1"),Object.defineProperty(t.prototype,"size",{get:Nt((function(){return this._map.size}),"get"),enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.keys()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}()}function pt(){var t=16,e=d.create(),a=n();return function(){function t(){this._key=n()}return u(t,"WeakMap1"),Nt(t,"WeakMap1"),t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&d.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?d.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){var t;do{t="@@WeakMap@@"+c()}while(d.has(e,t));return e[t]=!0,t}function o(t,e){if(!r.call(t,a)){if(!e)return;Object.defineProperty(t,a,{value:d.create()})}return t[a]}function i(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function s(t){if("function"==typeof Uint8Array){var e=new Uint8Array(t);return"undefined"!=typeof crypto?crypto.getRandomValues(e):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(e):i(e,t),e}return i(new Array(t),t)}function c(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",a=0;a<t;++a){var n=e[a];4!==a&&6!==a&&8!==a||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}function ft(t){return t.__=void 0,delete t.__,t}u(m,"decorate"),Nt(m,"decorate"),t("decorate",m),u(_,"metadata"),Nt(_,"metadata"),t("metadata",_),u(O,"defineMetadata"),Nt(O,"defineMetadata"),t("defineMetadata",O),u(b,"hasMetadata"),Nt(b,"hasMetadata"),t("hasMetadata",b),u(I,"hasOwnMetadata"),Nt(I,"hasOwnMetadata"),t("hasOwnMetadata",I),u(w,"getMetadata"),Nt(w,"getMetadata"),t("getMetadata",w),u(T,"getOwnMetadata"),Nt(T,"getOwnMetadata"),t("getOwnMetadata",T),u(k,"getMetadataKeys"),Nt(k,"getMetadataKeys"),t("getMetadataKeys",k),u(R,"getOwnMetadataKeys"),Nt(R,"getOwnMetadataKeys"),t("getOwnMetadataKeys",R),u(S,"deleteMetadata"),Nt(S,"deleteMetadata"),t("deleteMetadata",S),u(P,"DecorateConstructor"),Nt(P,"DecorateConstructor"),u(D,"DecorateProperty"),Nt(D,"DecorateProperty"),u(j,"OrdinaryHasMetadata"),Nt(j,"OrdinaryHasMetadata"),u(A,"OrdinaryHasOwnMetadata"),Nt(A,"OrdinaryHasOwnMetadata"),u(M,"OrdinaryGetMetadata"),Nt(M,"OrdinaryGetMetadata"),u(C,"OrdinaryGetOwnMetadata"),Nt(C,"OrdinaryGetOwnMetadata"),u(E,"OrdinaryDefineOwnMetadata"),Nt(E,"OrdinaryDefineOwnMetadata"),u(x,"OrdinaryMetadataKeys"),Nt(x,"OrdinaryMetadataKeys"),u(U,"OrdinaryOwnMetadataKeys"),Nt(U,"OrdinaryOwnMetadataKeys"),u(N,"Type"),Nt(N,"Type"),u(L,"IsUndefined"),Nt(L,"IsUndefined"),u(G,"IsNull"),Nt(G,"IsNull"),u(B,"IsSymbol"),Nt(B,"IsSymbol"),u(V,"IsObject9"),Nt(V,"IsObject"),u(K,"ToPrimitive"),Nt(K,"ToPrimitive"),u(H,"OrdinaryToPrimitive"),Nt(H,"OrdinaryToPrimitive"),u($,"ToBoolean"),Nt($,"ToBoolean"),u(W,"ToString"),Nt(W,"ToString"),u(F,"ToPropertyKey"),Nt(F,"ToPropertyKey"),u(z,"IsArray8"),Nt(z,"IsArray"),u(q,"IsCallable"),Nt(q,"IsCallable"),u(J,"IsConstructor"),Nt(J,"IsConstructor"),u(Y,"IsPropertyKey"),Nt(Y,"IsPropertyKey"),u(Z,"SameValueZero"),Nt(Z,"SameValueZero"),u(X,"GetMethod"),Nt(X,"GetMethod"),u(Q,"GetIterator"),Nt(Q,"GetIterator"),u(tt,"IteratorValue"),Nt(tt,"IteratorValue"),u(et,"IteratorStep"),Nt(et,"IteratorStep"),u(rt,"IteratorClose"),Nt(rt,"IteratorClose"),u(at,"OrdinaryGetPrototypeOf"),Nt(at,"OrdinaryGetPrototypeOf"),u(nt,"CreateMetadataRegistry"),Nt(nt,"CreateMetadataRegistry"),u(ot,"GetOrCreateMetadataRegistry"),Nt(ot,"GetOrCreateMetadataRegistry"),u(it,"CreateMetadataProvider"),Nt(it,"CreateMetadataProvider"),u(st,"CreateFallbackProvider"),Nt(st,"CreateFallbackProvider"),u(ct,"GetMetadataProvider"),Nt(ct,"GetMetadataProvider"),u(dt,"CreateMapPolyfill"),Nt(dt,"CreateMapPolyfill"),u(ut,"CreateSetPolyfill"),Nt(ut,"CreateSetPolyfill"),u(pt,"CreateWeakMapPolyfill"),Nt(pt,"CreateWeakMapPolyfill"),u(ft,"MakeDictionary"),Nt(ft,"MakeDictionary")}(r,t),void 0===t.Reflect&&(t.Reflect=e),u(a,"makeExporter"),Nt(a,"makeExporter"),u(n,"functionThis"),Nt(n,"functionThis"),u(o,"indirectEvalThis"),Nt(o,"indirectEvalThis"),u(i,"sloppyModeThis"),Nt(i,"sloppyModeThis")}()}});Bt(Vt()),class{static{u(this,"ActionScheduleParamsDto")}static{Nt(this,"ActionScheduleParamsDto")}actionSlug;actionScheduleId},class{static{u(this,"ActionScheduleDto")}static{Nt(this,"ActionScheduleDto")}cron;timezone;status},class{static{u(this,"ActionScheduleTriggerParamsDto")}static{Nt(this,"ActionScheduleTriggerParamsDto")}actionId;actionEntityId},class{static{u(this,"AgentWorklog")}static{Nt(this,"AgentWorklog")}id;createdAt;updatedAt;deleted;modelName;modelId;state;type;workspaceId;workspace},class{static{u(this,"AIRequest")}static{Nt(this,"AIRequest")}id;createdAt;updatedAt;deleted;modelName;data;response;llmModel;workspace;workspaceId;successful},class{static{u(this,"Attachment")}static{Nt(this,"Attachment")}id;createdAt;updatedAt;deleted;fileName;originalName;fileType;fileExt;size;url;status;sourceMetadata;uploadedBy;uploadedById;workspace;workspaceId};var Kt={EQ:"eq",GTE:"gte",LTE:"lte",GT:"gt",LT:"lt"},Ht=function(t){return t.GET_CONNECTED_ACCOUNT_ID="get_connected_account_id",t.SPEC="spec",t.CREATE="create",t.DELETE="delete",t.SOURCE_WEBHOOK="source_webhook",t.GET_TOKEN="get_token",t.WEBHOOK_RESPONSE="webhook_response",t.IS_ACTION_SUPPORTED_EVENT="is_action_supported_event",t.SCHEDULED_TASK="scheduled_task",t.SYNC_INITIAL_TASK="sync_initial_task",t.TASK="task",t.ACTIVITY="activity",t.PAGE="page",t}({});function $t(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Wt(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}(class{static{u(this,"Conversation")}static{Nt(this,"Conversation")}id;createdAt;updatedAt;deleted;user;userId;workspace;workspaceId;conversationHistory}),u($t,"_ts_decorate"),Nt($t,"_ts_decorate"),u(Wt,"_ts_metadata"),Nt(Wt,"_ts_metadata");var Ft=class{static{u(this,"ConversationParamsDto")}static{Nt(this,"ConversationParamsDto")}conversationId};$t([Rt(),Wt("design:type",String)],Ft.prototype,"conversationId",void 0);var zt=function(t){return t.Agent="Agent",t.User="User",t.System="System",t}({});function qt(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Jt(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}(class{static{u(this,"ConversationHistory")}static{Nt(this,"ConversationHistory")}id;createdAt;updatedAt;deleted;message;userType;context;thoughts;userId;conversation;conversationId}),u(qt,"_ts_decorate2"),Nt(qt,"_ts_decorate"),u(Jt,"_ts_metadata2"),Nt(Jt,"_ts_metadata");var Yt=class{static{u(this,"ConversationHistoryParamsDto")}static{Nt(this,"ConversationHistoryParamsDto")}conversationHistoryId};function Zt(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Xt(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}qt([Rt(),Jt("design:type",String)],Yt.prototype,"conversationHistoryId",void 0),class{static{u(this,"ConversationContextData")}static{Nt(this,"ConversationContextData")}pages;tasks;agents;repository},class{static{u(this,"PreviousHistory")}static{Nt(this,"PreviousHistory")}message},class{static{u(this,"ConversationContext")}static{Nt(this,"ConversationContext")}page;task;previousHistory},u(Zt,"_ts_decorate3"),Nt(Zt,"_ts_decorate"),u(Xt,"_ts_metadata3"),Nt(Xt,"_ts_metadata");var Qt=class{static{u(this,"CreateConversationHistoryDto")}static{Nt(this,"CreateConversationHistoryDto")}message;userType;context;thoughts;userId;conversationId};function te(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function ee(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Zt([Rt(),Xt("design:type",String)],Qt.prototype,"message",void 0),Zt([Tt(zt),Xt("design:type",void 0===zt?Object:zt)],Qt.prototype,"userType",void 0),Zt([jt(),yt(),Xt("design:type","undefined"==typeof Record?Object:Record)],Qt.prototype,"context",void 0),Zt([jt(),yt(),Xt("design:type","undefined"==typeof Record?Object:Record)],Qt.prototype,"thoughts",void 0),Zt([Rt(),yt(),Xt("design:type",String)],Qt.prototype,"userId",void 0),Zt([Rt(),Xt("design:type",String)],Qt.prototype,"conversationId",void 0),u(te,"_ts_decorate4"),Nt(te,"_ts_decorate"),u(ee,"_ts_metadata4"),Nt(ee,"_ts_metadata");var re=class{static{u(this,"UpdateConversationHistoryDto")}static{Nt(this,"UpdateConversationHistoryDto")}message;userType;context;thoughts;userId};function ae(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function ne(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}te([Rt(),yt(),ee("design:type",String)],re.prototype,"message",void 0),te([Tt(zt),yt(),ee("design:type",void 0===zt?Object:zt)],re.prototype,"userType",void 0),te([jt(),yt(),ee("design:type","undefined"==typeof Record?Object:Record)],re.prototype,"context",void 0),te([jt(),yt(),ee("design:type","undefined"==typeof Record?Object:Record)],re.prototype,"thoughts",void 0),te([Rt(),yt(),ee("design:type",String)],re.prototype,"userId",void 0),u(ae,"_ts_decorate5"),Nt(ae,"_ts_decorate"),u(ne,"_ts_metadata5"),Nt(ne,"_ts_metadata");var oe=class{static{u(this,"CreateConversationDto")}static{Nt(this,"CreateConversationDto")}message;userType;context;thoughts};function ie(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function se(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}ae([Rt(),ne("design:type",String)],oe.prototype,"message",void 0),ae([Tt(zt),ne("design:type",void 0===zt?Object:zt)],oe.prototype,"userType",void 0),ae([jt(),yt(),ne("design:type","undefined"==typeof Record?Object:Record)],oe.prototype,"context",void 0),ae([jt(),yt(),ne("design:type","undefined"==typeof Record?Object:Record)],oe.prototype,"thoughts",void 0),class{static{u(this,"IntegrationAccount")}static{Nt(this,"IntegrationAccount")}id;createdAt;updatedAt;deleted;integrationConfiguration;accountId;settings;isActive;integratedBy;integratedById;integrationDefinition;integrationDefinitionId;workspace;workspaceId},u(ie,"_ts_decorate6"),Nt(ie,"_ts_decorate"),u(se,"_ts_metadata6"),Nt(se,"_ts_metadata");var ce=class{static{u(this,"IntegrationAccountIdDto")}static{Nt(this,"IntegrationAccountIdDto")}integrationAccountId};ie([Rt(),se("design:type",String)],ce.prototype,"integrationAccountId",void 0);var de=class{static{u(this,"AccountIdDto")}static{Nt(this,"AccountIdDto")}accountId};function ue(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function pe(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}ie([Rt(),se("design:type",String)],de.prototype,"accountId",void 0),u(ue,"_ts_decorate7"),Nt(ue,"_ts_decorate"),u(pe,"_ts_metadata7"),Nt(pe,"_ts_metadata");var fe=class{static{u(this,"CreateIntegrationAccountDto")}static{Nt(this,"CreateIntegrationAccountDto")}integrationDefinitionId;config;accountId;settings;userId};function le(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function ye(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}ue([Rt(),pe("design:type",String)],fe.prototype,"integrationDefinitionId",void 0),ue([jt(),pe("design:type","undefined"==typeof JsonObject?Object:JsonObject)],fe.prototype,"config",void 0),ue([Rt(),yt(),pe("design:type",String)],fe.prototype,"accountId",void 0),ue([jt(),yt(),pe("design:type","undefined"==typeof JsonObject?Object:JsonObject)],fe.prototype,"settings",void 0),ue([Rt(),yt(),pe("design:type",String)],fe.prototype,"userId",void 0),u(le,"_ts_decorate8"),Nt(le,"_ts_decorate"),u(ye,"_ts_metadata8"),Nt(ye,"_ts_metadata");var ge=class{static{u(this,"UpdateIntegrationAccountDto")}static{Nt(this,"UpdateIntegrationAccountDto")}integrationConfiguration;accountIdentifier;accountId;settings;userId};function he(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function ve(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}le([yt(),jt(),ye("design:type","undefined"==typeof JsonObject?Object:JsonObject)],ge.prototype,"integrationConfiguration",void 0),le([Rt(),yt(),ye("design:type",String)],ge.prototype,"accountIdentifier",void 0),le([Rt(),yt(),ye("design:type",String)],ge.prototype,"accountId",void 0),le([jt(),yt(),ye("design:type","undefined"==typeof JsonObject?Object:JsonObject)],ge.prototype,"settings",void 0),le([Rt(),yt(),ye("design:type",String)],ge.prototype,"userId",void 0),u(he,"_ts_decorate9"),Nt(he,"_ts_decorate"),u(ve,"_ts_metadata9"),Nt(ve,"_ts_metadata");var me=class{static{u(this,"GetIntegrationAccountByNames")}static{Nt(this,"GetIntegrationAccountByNames")}integrations};function _e(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Oe(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}he([Pt(),ve("design:type",Array)],me.prototype,"integrations",void 0),class{static{u(this,"OAuth2Params")}static{Nt(this,"OAuth2Params")}authorization_url;authorization_params;default_scopes;scope_separator;token_url;token_params;redirect_uri_metadata;token_response_metadata;token_expiration_buffer;scopes},class{static{u(this,"APIKeyParams")}static{Nt(this,"APIKeyParams")}header_name;format},class{static{u(this,"Spec")}static{Nt(this,"Spec")}auth;other_data},class{static{u(this,"IntegrationDefinition")}static{Nt(this,"IntegrationDefinition")}id;createdAt;updatedAt;deleted;name;slug;description;icon;config;spec;version;url;workspace;workspaceId;IntegrationAccount},class{static{u(this,"PublicIntegrationDefinition")}static{Nt(this,"PublicIntegrationDefinition")}id;createdAt;updatedAt;deleted;name;slug;description;icon;config;spec;workspace;workspaceId;IntegrationAccount},class{static{u(this,"IntegrationDefinitionIdDto")}static{Nt(this,"IntegrationDefinitionIdDto")}integrationDefinitionId},class{static{u(this,"List")}static{Nt(this,"List")}id;createdAt;updatedAt;pageId;workspaceId},u(_e,"_ts_decorate10"),Nt(_e,"_ts_decorate"),u(Oe,"_ts_metadata10"),Nt(Oe,"_ts_metadata");var be=class{static{u(this,"ListIdDto")}static{Nt(this,"ListIdDto")}listId};function Ie(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function we(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}_e([Rt(),Oe("design:type",String)],be.prototype,"listId",void 0),u(Ie,"_ts_decorate11"),Nt(Ie,"_ts_decorate"),u(we,"_ts_metadata11"),Nt(we,"_ts_metadata");var Te=class{static{u(this,"UpdateListDto")}static{Nt(this,"UpdateListDto")}icon};Ie([Rt(),we("design:type",String)],Te.prototype,"icon",void 0);var ke=function(t){return t.Default="Default",t.Daily="Daily",t.List="List",t}({});function Re(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Se(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}(class{static{u(this,"Page")}static{Nt(this,"Page")}id;createdAt;updatedAt;deleted;archived;title;description;descriptionBinary;sortOrder;parentId;parent;children;outlinks;tags;type;statusId;status;workspaceId;workspace;task;conversation}),u(Re,"_ts_decorate12"),Nt(Re,"_ts_decorate"),u(Se,"_ts_metadata12"),Nt(Se,"_ts_metadata");var Pe=class{static{u(this,"CreatePageDto")}static{Nt(this,"CreatePageDto")}title;description;htmlDescription;parentId;sortOrder;type};function De(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function je(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Re([Rt(),yt(),Se("design:type",String)],Pe.prototype,"title",void 0),Re([yt(),Rt(),Se("design:type",String)],Pe.prototype,"description",void 0),Re([yt(),Rt(),Se("design:type",String)],Pe.prototype,"htmlDescription",void 0),Re([yt(),Rt(),Se("design:type",String)],Pe.prototype,"parentId",void 0),Re([Rt(),Se("design:type",String)],Pe.prototype,"sortOrder",void 0),Re([Rt(),Tt(["Default","Daily"]),Se("design:type",void 0===ke?Object:ke)],Pe.prototype,"type",void 0),u(De,"_ts_decorate13"),Nt(De,"_ts_decorate"),u(je,"_ts_metadata13"),Nt(je,"_ts_metadata");var Ae=class{static{u(this,"UpdatePageDto")}static{Nt(this,"UpdatePageDto")}title;description;htmlDescription;parentId;sortOrder;archived};De([Rt(),yt(),je("design:type",String)],Ae.prototype,"title",void 0),De([yt(),Rt(),je("design:type",String)],Ae.prototype,"description",void 0),De([yt(),Rt(),je("design:type",String)],Ae.prototype,"htmlDescription",void 0),De([yt(),Rt(),je("design:type",String)],Ae.prototype,"parentId",void 0),De([Rt(),yt(),je("design:type",String)],Ae.prototype,"sortOrder",void 0),De([Rt(),yt(),je("design:type",String)],Ae.prototype,"archived",void 0);var Me=class{static{u(this,"MoveTaskToPageDto")}static{Nt(this,"MoveTaskToPageDto")}fromDate;toDate;taskIds};function Ce(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Ee(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}De([Rt(),yt(),je("design:type",String)],Me.prototype,"fromDate",void 0),De([Rt(),yt(),je("design:type",String)],Me.prototype,"toDate",void 0),De([Pt(),je("design:type",Array)],Me.prototype,"taskIds",void 0),u(Ce,"_ts_decorate14"),Nt(Ce,"_ts_decorate"),u(Ee,"_ts_metadata14"),Nt(Ee,"_ts_metadata");var xe=class{static{u(this,"PageRequestParamsDto")}static{Nt(this,"PageRequestParamsDto")}pageId};function Ue(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Ne(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Ce([Rt(),Ee("design:type",String)],xe.prototype,"pageId",void 0),class{static{u(this,"EnhancePageResponse")}static{Nt(this,"EnhancePageResponse")}title;description},u(Ue,"_ts_decorate15"),Nt(Ue,"_ts_decorate"),u(Ne,"_ts_metadata15"),Nt(Ne,"_ts_metadata");var Le=class{static{u(this,"GetPageByTitleDto")}static{Nt(this,"GetPageByTitleDto")}title;type;taskIds};Ue([Rt(),Ne("design:type",String)],Le.prototype,"title",void 0),Ue([Rt(),Tt(ke),Ne("design:type",void 0===ke?Object:ke)],Le.prototype,"type",void 0),Ue([Pt(),yt(),Ne("design:type",Array)],Le.prototype,"taskIds",void 0);var Ge=function(t){return t.GPT35TURBO="GPT35TURBO",t.GPT4TURBO="GPT4TURBO",t.GPT4O="GPT4O",t.LLAMA3="LLAMA3",t.CLAUDEOPUS="CLAUDEOPUS",t.CLAUDESONNET="CLAUDESONNET",t.CLAUDEHAIKU="CLAUDEHAIKU",t}({}),Be={GPT35TURBO:"GPT35TURBO",GPT4TURBO:"GPT4TURBO",GPT4O:"GPT4O",LLAMA3:"LLAMA3",CLAUDEOPUS:"CLAUDEOPUS",CLAUDESONNET:"CLAUDESONNET",CLAUDEHAIKU:"CLAUDEHAIKU"};function Ve(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Ke(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}(class{static{u(this,"Prompt")}static{Nt(this,"Prompt")}id;createdAt;updatedAt;deleted;name;prompt;model;workspace;workspaceId}),u(Ve,"_ts_decorate16"),Nt(Ve,"_ts_decorate"),u(Ke,"_ts_metadata16"),Nt(Ke,"_ts_metadata");var He=class{static{u(this,"PromptInput")}static{Nt(this,"PromptInput")}name;prompt;model};function $e(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function We(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Ve([Rt(),Ke("design:type",String)],He.prototype,"name",void 0),Ve([Rt(),Ke("design:type",String)],He.prototype,"prompt",void 0),Ve([yt(),Tt(Ge),Ke("design:type",Be)],He.prototype,"model",void 0),u($e,"_ts_decorate17"),Nt($e,"_ts_decorate"),u(We,"_ts_metadata17"),Nt(We,"_ts_metadata");var Fe=class{static{u(this,"CreateSuggestionDto")}static{Nt(this,"CreateSuggestionDto")}content;taskId};function ze(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function qe(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}$e([Rt(),We("design:type",String)],Fe.prototype,"content",void 0),$e([Rt(),We("design:type",String)],Fe.prototype,"taskId",void 0),u(ze,"_ts_decorate18"),Nt(ze,"_ts_decorate"),u(qe,"_ts_metadata18"),Nt(qe,"_ts_metadata");var Je=class{static{u(this,"CreateSummaryDto")}static{Nt(this,"CreateSummaryDto")}content;taskId};ze([Rt(),qe("design:type",String)],Je.prototype,"content",void 0),ze([Rt(),qe("design:type",String)],Je.prototype,"taskId",void 0);var Ye=class{static{u(this,"GenerateSummaryDto")}static{Nt(this,"GenerateSummaryDto")}summaryData;taskId};function Ze(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Xe(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}ze([jt(),qe("design:type","undefined"==typeof Record?Object:Record)],Ye.prototype,"summaryData",void 0),ze([Rt(),qe("design:type",String)],Ye.prototype,"taskId",void 0),class{static{u(this,"SyncAction")}static{Nt(this,"SyncAction")}id;createdAt;updatedAt;deleted;modelName;modelId;action;sequenceId;workspace;workspaceId},u(Ze,"_ts_decorate19"),Nt(Ze,"_ts_decorate"),u(Xe,"_ts_metadata19"),Nt(Xe,"_ts_metadata");var Qe=function(t){return t.EXTERNAL="external",t.PAGE="page",t.TASK="task",t.LIST="list",t}({}),tr=class{static{u(this,"Source")}static{Nt(this,"Source")}id;type};function er(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function rr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Ze([Rt(),yt(),Xe("design:type",String)],tr.prototype,"id",void 0),Ze([yt(),Tt(Qe),Xe("design:type",String)],tr.prototype,"type",void 0),class{static{u(this,"Task")}static{Nt(this,"Task")}id;createdAt;updatedAt;deleted;atchived;number;completedAt;status;metadata;startTime;endTime;recurrence;scheduleText;dueDate;remindAt;tags;source;page;pageId;workspace;workspaceId;list;listId;parent;parentId;subIssue;taskOccurrence;taskExternalLink;conversation},u(er,"_ts_decorate20"),Nt(er,"_ts_decorate"),u(rr,"_ts_metadata20"),Nt(rr,"_ts_metadata");var ar=class{static{u(this,"CreateTaskDto")}static{Nt(this,"CreateTaskDto")}url;status;title;metadata;source;integrationAccountId;dueDate;startTime;listId;endTime;recurrence;scheduleText;remindAt;pageDescription;parentId};function nr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function or(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}er([Rt(),yt(),rr("design:type",String)],ar.prototype,"url",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"status",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"title",void 0),er([jt(),yt(),rr("design:type","undefined"==typeof Record?Object:Record)],ar.prototype,"metadata",void 0),er([jt(),yt(),rr("design:type",void 0===tr?Object:tr)],ar.prototype,"source",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"integrationAccountId",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"dueDate",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"startTime",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"listId",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"endTime",void 0),er([Pt(),yt(),rr("design:type",Array)],ar.prototype,"recurrence",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"scheduleText",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"remindAt",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"pageDescription",void 0),er([Rt(),yt(),rr("design:type",String)],ar.prototype,"parentId",void 0),class{static{u(this,"CreateBulkTasksDto")}static{Nt(this,"CreateBulkTasksDto")}tasks},u(nr,"_ts_decorate21"),Nt(nr,"_ts_decorate"),u(or,"_ts_metadata21"),Nt(or,"_ts_metadata");var ir=class{static{u(this,"UpdateTaskDto")}static{Nt(this,"UpdateTaskDto")}url;title;status;dueDate;listId;source;startTime;endTime;recurrence;scheduleText;remindAt;parentId};function sr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function cr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}nr([Rt(),yt(),or("design:type",String)],ir.prototype,"url",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"title",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"status",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"dueDate",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"listId",void 0),nr([jt(),yt(),or("design:type",void 0===tr?Object:tr)],ir.prototype,"source",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"startTime",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"endTime",void 0),nr([Pt(),yt(),or("design:type",Array)],ir.prototype,"recurrence",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"scheduleText",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"remindAt",void 0),nr([Rt(),yt(),or("design:type",String)],ir.prototype,"parentId",void 0),u(sr,"_ts_decorate22"),Nt(sr,"_ts_decorate"),u(cr,"_ts_metadata22"),Nt(cr,"_ts_metadata");var dr=class{static{u(this,"TaskDto")}static{Nt(this,"TaskDto")}taskId};sr([Rt(),cr("design:type",String)],dr.prototype,"taskId",void 0);var ur=class{static{u(this,"TaskBySourceDto")}static{Nt(this,"TaskBySourceDto")}sourceId};sr([Rt(),cr("design:type",String)],ur.prototype,"sourceId",void 0);var pr=class{static{u(this,"ReccurenceInput")}static{Nt(this,"ReccurenceInput")}text;currentTime};sr([Rt(),cr("design:type",String)],pr.prototype,"text",void 0),sr([Rt(),cr("design:type",String)],pr.prototype,"currentTime",void 0),class{static{u(this,"TaskExternalLink")}static{Nt(this,"TaskExternalLink")}id;createdAt;updatedAt;deleted;taskId;task;metadata;sourceId;url;integrationAccount;integrationAccountId};var fr=function(t){return t.Todo="Todo",t.InProgress="InProgress",t.Done="Done",t.Cancelled="Cancelled",t}({}),lr={Todo:"Todo",InProgress:"InProgress",Done:"Done",Cancelled:"Cancelled"};function yr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function gr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}(class{static{u(this,"TaskOccurrence")}static{Nt(this,"TaskOccurrence")}id;createdAt;updatedAt;deleted;startTime;endTime;status;task;taskId;page;pageId;workspace;workspaceId}),u(yr,"_ts_decorate23"),Nt(yr,"_ts_decorate"),u(gr,"_ts_metadata23"),Nt(gr,"_ts_metadata");var hr=class{static{u(this,"UpdateTaskOccurenceDTO")}static{Nt(this,"UpdateTaskOccurenceDTO")}taskOccurrenceIds;startTime;endTime;status};function vr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function mr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}yr([Pt(),gr("design:type",Array)],hr.prototype,"taskOccurrenceIds",void 0),yr([Rt(),gr("design:type",String)],hr.prototype,"startTime",void 0),yr([Rt(),gr("design:type",String)],hr.prototype,"endTime",void 0),yr([yt(),Tt(fr),gr("design:type",lr)],hr.prototype,"status",void 0),u(vr,"_ts_decorate24"),Nt(vr,"_ts_decorate"),u(mr,"_ts_metadata24"),Nt(mr,"_ts_metadata");var _r=class{static{u(this,"GetTaskOccurrenceDTO")}static{Nt(this,"GetTaskOccurrenceDTO")}taskId;startTime;startTimeFilter;endTime;endTimeFilter;status};function Or(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function br(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}vr([Rt(),yt(),mr("design:type",String)],_r.prototype,"taskId",void 0),vr([yt(),Ot(),mr("design:type",String)],_r.prototype,"startTime",void 0),vr([yt(),Tt(Kt),mr("design:type",Kt)],_r.prototype,"startTimeFilter",void 0),vr([yt(),Ot(),mr("design:type",String)],_r.prototype,"endTime",void 0),vr([yt(),Tt(Kt),mr("design:type",Kt)],_r.prototype,"endTimeFilter",void 0),vr([yt(),Tt(fr),mr("design:type",lr)],_r.prototype,"status",void 0),u(Or,"_ts_decorate25"),Nt(Or,"_ts_decorate"),u(br,"_ts_metadata25"),Nt(br,"_ts_metadata");var Ir=class{static{u(this,"TaskOccurrenceDto")}static{Nt(this,"TaskOccurrenceDto")}taskOccurrenceId};function wr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Tr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Or([Rt(),br("design:type",String)],Ir.prototype,"taskOccurrenceId",void 0),u(wr,"_ts_decorate26"),Nt(wr,"_ts_decorate"),u(Tr,"_ts_metadata26"),Nt(Tr,"_ts_metadata");var kr=class{static{u(this,"CreateTaskOccurrenceDTO")}static{Nt(this,"CreateTaskOccurrenceDTO")}taskIds;startTime;endTime;pageId};function Rr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Sr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}wr([Pt(),Tr("design:type",Array)],kr.prototype,"taskIds",void 0),wr([yt(),Ot(),Tr("design:type",String)],kr.prototype,"startTime",void 0),wr([yt(),Ot(),Tr("design:type",String)],kr.prototype,"endTime",void 0),wr([Rt(),yt(),Tr("design:type",String)],kr.prototype,"pageId",void 0),class{static{u(this,"Template")}static{Nt(this,"Template")}id;createdAt;updatedAt;deleted;name;templateData;createdBy;createdById;workspace;workspaceId},class{static{u(this,"User")}static{Nt(this,"User")}id;createdAt;updatedAt;email;fullname;username;initialSetupComplete;workspace;anonymousDataCollection;attachment},class{static{u(this,"PublicUser")}static{Nt(this,"PublicUser")}id;username;fullname;email},class{static{u(this,"Pat")}static{Nt(this,"Pat")}id;createdAt;updatedAt;name;jwt;token;userId},class{static{u(this,"CreatePatDto")}static{Nt(this,"CreatePatDto")}name},class{static{u(this,"GetUsersDto")}static{Nt(this,"GetUsersDto")}userIds;workspaceId},u(Rr,"_ts_decorate27"),Nt(Rr,"_ts_decorate"),u(Sr,"_ts_metadata27"),Nt(Sr,"_ts_metadata");var Pr=class{static{u(this,"PatIdDto")}static{Nt(this,"PatIdDto")}patId};function Dr(t,e,r,a){var n,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(o<3?n(i):o>3?n(e,r,i):n(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function jr(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Rr([Rt(),Sr("design:type",String)],Pr.prototype,"patId",void 0),class{static{u(this,"CodeDto")}static{Nt(this,"CodeDto")}code},class{static{u(this,"Preferences")}static{Nt(this,"Preferences")}timezone},class{static{u(this,"Workspace")}static{Nt(this,"Workspace")}id;createdAt;updatedAt;deleted;name;slug;icon;userId;template;preferences},u(Dr,"_ts_decorate28"),Nt(Dr,"_ts_decorate"),u(jr,"_ts_metadata28"),Nt(jr,"_ts_metadata");var Ar=class{static{u(this,"WorkspaceRequestParamsDto")}static{Nt(this,"WorkspaceRequestParamsDto")}workspaceId};Dr([Rt(),jr("design:type",String)],Ar.prototype,"workspaceId",void 0);var Mr=class{static{u(this,"WorkspaceSlugParamsDTO")}static{Nt(this,"WorkspaceSlugParamsDTO")}slug};function Cr(e){return r(this,void 0,void 0,(function(){var r,n,o,i;return a(this,(function(a){switch(a.label){case 0:for(r=[],n=[],o=0;o<e.length;o+=10)n.push(e.slice(o,o+10));a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all(n.map((function(e,r){return t.post("/api/tasks/bulk",e).catch((function(t){return console.error("Error processing batch ".concat(r+1,":"),t),{data:[]}}))})))];case 2:return i=a.sent(),r.push.apply(r,i.flatMap((function(t){return t.data}))),[3,4];case 3:return a.sent(),console.error("Fatal error processing batches"),[3,4];case 4:return[2,r]}}))}))}function Er(e,n){return r(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,t.get(e,{headers:{Authorization:"Bearer ".concat(n),Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}})];case 1:return[2,r.sent().data]}}))}))}function xr(n){return r(this,void 0,void 0,(function(){var o,i,s,c,d,u=this;return a(this,(function(p){switch(p.label){case 0:return o=n.integrationAccount,i=o.integrationConfiguration,s=o.settings,c=["assignee:".concat(s.login,"+type:issue+is:open"),"review-requested:".concat(s.login,"+type:pr+is:open"),"author:".concat(s.login,"+type:pr+is:open")],d=[],[4,Promise.all(c.map((function(t){return r(u,void 0,void 0,(function(){var e,r,n,s;return a(this,(function(a){switch(a.label){case 0:e=1,r=!0,a.label=1;case 1:return r?[4,Er("https://api.github.com/search/issues?page=".concat(e,"&per_page=50&q=").concat(t),i.access_token)]:[3,3];case 2:return n=a.sent(),0===(null===(s=n.items)||void 0===s?void 0:s.length)?(r=!1,[3,3]):(n.items.map((function(t){var e=t.url,r=t.id.toString(),a="open"===t.state?"Todo":"Done",n=t.title;return d.push({title:n,status:a,source:{type:"external",extension:"Github",id:r,url:e},integrationAccountId:o.id}),!0})),e++,[3,1]);case 3:return[2]}}))}))})))];case 1:return p.sent(),d.length>0?[4,Cr(d)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,t.post("/api/integration_account/".concat(o.id),{settings:e(e({},s),{lastSyncTime:(new Date).toISOString()})})];case 4:return p.sent(),[2]}}))}))}function Ur(e,n,o){return r(this,void 0,void 0,(function(){var r,i,s,c,d,u,p,f;return a(this,(function(a){switch(a.label){case 0:return r=o.oauthResponse,i=o.integrationDefinition,[4,Er("https://api.github.com/user",(s={refresh_token:r.refresh_token,access_token:r.access_token}).access_token)];case 1:return c=a.sent(),[4,Er("https://api.github.com/user/repos",s.access_token)];case 2:return d=a.sent(),u=d.map((function(t){return{id:t.id.toString(),name:t.name,private:t.private,fullName:t.full_name}})),p={settings:{login:c.login,scheduled:!0,schedule_frequency:"*/5 * * * *",repositories:u},userId:e,accountId:c.id.toString(),config:s,workspaceId:n,integrationDefinitionId:i.id},[4,t.post("/api/integration_account",p)];case 3:return[4,xr({integrationAccount:f=a.sent().data})];case 4:return a.sent(),[2,f]}}))}))}function Nr(n){return r(this,void 0,void 0,(function(){var o,i,s,c,d,u,p,f,l,y=this;return a(this,(function(g){switch(g.label){case 0:if(o=n.integrationAccount,i=o.integrationConfiguration,!(null==(s=o.settings)?void 0:s.lastSyncTime))return[2,{message:"No last sync time in settings of integration account ".concat(o.id)}];c=s.lastSyncTime,d=["assign","review_requested","mention","state_change","subscribed","author"],u=1,p=!0,f=0,l=function(){var l,g,h;return a(this,(function(v){switch(v.label){case 0:return[4,Er("https://api.github.com/notifications?page=".concat(u,"&per_page=50&all=true&since=").concat(c),i.access_token)];case 1:return 0===(l=v.sent()).length?(p=!1,[2,"break"]):(u++,g=l.filter((function(t){return d.includes(t.reason)})),f+=(null==g?void 0:g.length)||0,h=[],[4,Promise.all(g.map((function(t){return r(y,void 0,void 0,(function(){var e,r,s,c,d,u,p,f,l;return a(this,(function(a){switch(a.label){case 0:switch(e=t.reason,r=t.subject,s="",c=!1,d="",u="Todo",p="",f="",l={},e){case"assign":return[3,1];case"review_requested":return[3,3];case"state_change":return[3,5];case"subscribed":return[3,7];case"author":return[3,9]}return[3,11];case 1:case 3:case 5:case 7:case 9:return s=r.url,f=r.type.toLowerCase(),c=!0,[4,Er(s,i.access_token)];case 2:return l=a.sent(),d=l.id.toString(),u="open"===l.state?"Todo":"Done",p="#".concat(l.number," - ").concat(l.title),[3,12];case 4:case 10:return l=a.sent(),d=l.id.toString(),u=n.merged?"Todo":"Done",p="#".concat(l.number," - ").concat(l.title),[3,12];case 6:case 8:return l=a.sent(),d=l.id.toString(),u="issue"===f?"open"===l.state?"Todo":"Done":n.merged?"Todo":"Done",p="#".concat(l.number," - ").concat(l.title),[3,12];case 11:return[3,12];case 12:return s&&c&&h.push({url:s,title:p,status:u,sourceId:d,integrationAccountId:o.id}),[2]}}))}))})))]);case 2:return v.sent(),h.length>0?[4,Cr(h)]:[3,4];case 3:v.sent(),v.label=4;case 4:return[4,t.post("/api/integration_account/".concat(o.id),{settings:e(e({},s),{lastSyncTime:(new Date).toISOString()})})];case 5:return v.sent(),[2]}}))},g.label=1;case 1:return p?[5,l()]:[3,3];case 2:return"break"===g.sent()?[3,3]:[3,1];case 3:return[2,{message:"Processed ".concat(f," notifications from github")}]}}))}))}Dr([Rt(),jr("design:type",String)],Mr.prototype,"slug",void 0),exports.run=function(t){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:switch(t.event){case Ht.CREATE:return[3,1];case Ht.SCHEDULED_TASK:return[3,3];case Ht.GET_TOKEN:return[3,4];case Ht.SYNC_INITIAL_TASK:return[3,5]}return[3,6];case 1:return[4,Ur(t.userId,t.workspaceId,t.eventBody)];case 2:return[2,e.sent()];case 3:return[2,Nr(t.eventBody)];case 4:return[2,t.eventBody.integrationAccount.integrationConfiguration.access_token];case 5:return[2,xr(t.eventBody)];case 6:return[2,{message:"The event payload type is ".concat(t.event)}]}}))}))};
//# sourceMappingURL=index.js.map
